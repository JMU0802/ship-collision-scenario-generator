# èˆ¹èˆ¶ç¢°æ’å±é™©åœºæ™¯è‡ªåŠ¨ç”Ÿæˆç³»ç»Ÿ

> åŸºäºç›¸å¯¹è¿åŠ¨çŸ¢é‡çš„èˆ¹èˆ¶ç¢°æ’å±é™©åœºæ™¯è‡ªåŠ¨ç”Ÿæˆæ–¹æ³•åŠç³»ç»Ÿ

[![Python Version](https://img.shields.io/badge/python-3.7+-blue.svg)](https://www.python.org/downloads/)
[![License](https://img.shields.io/badge/license-MIT-green.svg)](LICENSE)
[![Status](https://img.shields.io/badge/status-active-success.svg)]()

---

## ğŸ“‹ ç›®å½•

- [é¡¹ç›®ç®€ä»‹](#é¡¹ç›®ç®€ä»‹)
- [æŠ€æœ¯é¢†åŸŸ](#æŠ€æœ¯é¢†åŸŸ)
- [èƒŒæ™¯ä¸é—®é¢˜](#èƒŒæ™¯ä¸é—®é¢˜)
- [æ ¸å¿ƒåˆ›æ–°](#æ ¸å¿ƒåˆ›æ–°)
- [ç³»ç»Ÿæ¶æ„](#ç³»ç»Ÿæ¶æ„)
- [æ ¸å¿ƒç®—æ³•](#æ ¸å¿ƒç®—æ³•)
- [åŠŸèƒ½ç‰¹æ€§](#åŠŸèƒ½ç‰¹æ€§)
- [å®‰è£…ä½¿ç”¨](#å®‰è£…ä½¿ç”¨)
- [æŠ€æœ¯æ•ˆæœ](#æŠ€æœ¯æ•ˆæœ)
- [é™„å›¾è¯´æ˜](#é™„å›¾è¯´æ˜)
- [å¼€å‘å›¢é˜Ÿ](#å¼€å‘å›¢é˜Ÿ)
- [è®¸å¯è¯](#è®¸å¯è¯)

---

## ğŸ¯ é¡¹ç›®ç®€ä»‹

æœ¬é¡¹ç›®æ˜¯ä¸€ä¸ªç”¨äºæµ·äº‹æ•™è‚²åŸ¹è®­çš„**èˆ¹èˆ¶ç¢°æ’å±é™©åœºæ™¯è‡ªåŠ¨ç”Ÿæˆç³»ç»Ÿ**ï¼Œèƒ½å¤Ÿè‡ªåŠ¨ç”Ÿæˆæ»¡è¶³ç‰¹å®šç¢°æ’å±é™©æ¡ä»¶ï¼ˆTCPAã€DCPAï¼‰çš„å¤šèˆ¹ä¼šé‡åœºæ™¯ï¼Œç”¨äºèˆ¹èˆ¶é©¾é©¶å‘˜é¿ç¢°è®­ç»ƒã€‚

### æ ¸å¿ƒä»·å€¼

- âœ… **è‡ªåŠ¨åŒ–ç”Ÿæˆ**ï¼šæ— éœ€äººå·¥è°ƒæ•´å‚æ•°ï¼Œä¸€é”®ç”Ÿæˆç¢°æ’å±é™©åœºæ™¯
- âœ… **å±é™©æ€§ä¿è¯**ï¼š100%æ»¡è¶³ç¢°æ’å±é™©æ¡ä»¶ï¼ˆTCPA â‰¥ 0, TCPA â‰¤ 30åˆ†é’Ÿ, DCPA â‰¤ 0.5æµ·é‡Œï¼‰
- âœ… **æ‰¹é‡ç”Ÿæˆ**ï¼šæ”¯æŒä¸€æ¬¡æ€§ç”Ÿæˆæ•°ç™¾ä¸ªéšæœºåœºæ™¯
- âœ… **ç±»å‹å¯æ§**ï¼šæ”¯æŒ11ç§ä¼šé‡ç±»å‹ï¼ˆå¯¹é‡ã€äº¤å‰ã€è¿½è¶Šç­‰ï¼‰
- âœ… **å¯è§†åŒ–ç›´è§‚**ï¼šæåæ ‡å›¾å®æ—¶æ˜¾ç¤ºç¢°æ’å±é™©æ€åŠ¿

---

## ğŸ”¬ æŠ€æœ¯é¢†åŸŸ

æœ¬é¡¹ç›®æ¶‰åŠ**èˆ¹èˆ¶å¯¼èˆªè®­ç»ƒæŠ€æœ¯é¢†åŸŸ**ï¼Œå…·ä½“æ¶‰åŠï¼š

- èˆ¹èˆ¶é¿ç¢°åœºæ™¯æ¨¡æ‹Ÿ
- ç›¸å¯¹è¿åŠ¨çŸ¢é‡è®¡ç®—
- å¤§åœ°æµ‹é‡ç®—æ³•åº”ç”¨
- æåæ ‡å¯è§†åŒ–æŠ€æœ¯

### è§£å†³çš„æŠ€æœ¯é—®é¢˜

å¦‚ä½•è‡ªåŠ¨ç”Ÿæˆæ»¡è¶³ç‰¹å®šç¢°æ’å±é™©æ¡ä»¶çš„å¤šèˆ¹ä¼šé‡åœºæ™¯ï¼Œé¿å…ä¼ ç»Ÿæ‰‹åŠ¨è®¾ç½®åœºæ™¯å‚æ•°æ•ˆç‡ä½ã€éš¾ä»¥ä¿è¯ç¢°æ’å±é™©æ€§çš„é—®é¢˜ã€‚

---

## ğŸš¨ èƒŒæ™¯ä¸é—®é¢˜

### ç°æœ‰æŠ€æœ¯çš„å±€é™

#### æ–¹å¼ä¸€ï¼šæ‰‹åŠ¨å‚æ•°è®¾ç½®

**å·¥ä½œæµç¨‹**ï¼š
```
è®­ç»ƒäººå‘˜æ‰‹åŠ¨è¾“å…¥ â†’ ç›®æ ‡èˆ¹ä½ç½®/èˆªå‘/èˆªé€Ÿ â†’ è®¡ç®—TCPA/DCPA â†’ åå¤è°ƒæ•´å‚æ•°
```

**å­˜åœ¨é—®é¢˜**ï¼š
- âŒ **æ•ˆç‡ä½ä¸‹**ï¼šéœ€è¦åå¤è¯•é”™ï¼Œç”Ÿæˆ1ä¸ªåœºæ™¯å¹³å‡éœ€è¦5-10åˆ†é’Ÿ
- âŒ **éš¾ä»¥ä¿è¯å±é™©æ€§**ï¼šç”Ÿæˆçš„åœºæ™¯å¾€å¾€DCPAè¿‡å¤§ï¼ˆ>2æµ·é‡Œï¼‰ï¼Œä¸æ„æˆçœŸæ­£ç¢°æ’å±é™©
- âŒ **æ— æ³•æ‰¹é‡ç”Ÿæˆ**ï¼šæ¯æ¬¡åªèƒ½ç”Ÿæˆå•ä¸ªåœºæ™¯
- âŒ **ä¼šé‡ç±»å‹éš¾æ§åˆ¶**ï¼šéš¾ä»¥ç²¾ç¡®æ§åˆ¶ç‰¹å®šç±»å‹çš„ä¼šé‡åœºæ™¯

#### æ–¹å¼äºŒï¼šé¢„è®¾åœºæ™¯åº“

**å·¥ä½œæµç¨‹**ï¼š
```
é¢„å…ˆè®¾è®¡åœºæ™¯ â†’ å­˜å‚¨åˆ°åœºæ™¯åº“ â†’ è®­ç»ƒæ—¶è°ƒç”¨
```

**å­˜åœ¨é—®é¢˜**ï¼š
- âŒ **ç¼ºä¹éšæœºæ€§**ï¼šåœºæ™¯å‚æ•°å›ºå®šï¼Œå­¦å‘˜å®¹æ˜“è®°å¿†
- âŒ **åœºæ™¯æ•°é‡æœ‰é™**ï¼šå—é™äºäººå·¥è®¾è®¡èƒ½åŠ›
- âŒ **å‚æ•°è°ƒæ•´å›°éš¾**ï¼šä¿®æ”¹åœºæ™¯éœ€è¦é‡æ–°è®¡ç®—éªŒè¯

### é—®é¢˜æ ¹æº

**ç»“æ„æ€§åŸå› **ï¼šç°æœ‰æŠ€æœ¯é‡‡ç”¨"æ­£å‘è®¾ç½®"ç»“æ„
```
è®¾å®šç›®æ ‡èˆ¹å‚æ•° â†’ è®¡ç®—ç¢°æ’æ¡ä»¶ â†’ æ‰‹åŠ¨è°ƒæ•´ï¼ˆå¼€ç¯ï¼‰
```

**ç®—æ³•åŸå› **ï¼šç¼ºä¹åŸºäºç›¸å¯¹è¿åŠ¨çŸ¢é‡çš„åå‘æ±‚è§£ç®—æ³•

---

## ğŸ’¡ æ ¸å¿ƒåˆ›æ–°

### 1. åå‘è®¡ç®—ç»“æ„

**ä¼ ç»Ÿæ–¹æ³•**ï¼š
```
ç›®æ ‡èˆ¹å‚æ•° â†’ è®¡ç®—TCPA/DCPA â†’ éªŒè¯ â†’ æ‰‹åŠ¨è°ƒæ•´
```

**æœ¬é¡¹ç›®åˆ›æ–°**ï¼š
```
ç¢°æ’å±é™©æ¡ä»¶ â†’ åå‘è®¡ç®— â†’ ç›®æ ‡èˆ¹å‚æ•° â†’ è‡ªåŠ¨éªŒè¯
```

### 2. å…³é”®æŠ€æœ¯çªç ´

#### æ ¸å¿ƒå…¬å¼
```python
# æ­¥éª¤1: è®¡ç®—ç›®æ ‡èˆ¹åˆå§‹èˆªå‘
tcog = mod360(ocog + relbrg + 180Â°)

# æ­¥éª¤2: è®¡ç®—ç›¸å¯¹è¿åŠ¨çŸ¢é‡
rel_spd, rel_cog = calc_rel_spd_cog(tsog, tcog, osog, ocog)

# æ­¥éª¤3: å…³é”®åˆ›æ–° - åˆ©ç”¨å¤§åœ°æµ‹é‡å‡½æ•°çš„åå‘ç‰¹æ€§
brg = rel_cog  # ç›®æ ‡èˆ¹æ–¹ä½ = ç›¸å¯¹è¿åŠ¨æ–¹å‘

# æ­¥éª¤4: è®¡ç®—ç›®æ ‡èˆ¹ä½ç½®
tlat, tlon = ll_gc_ll(olat, olon, brg, dist)
```

#### åˆ›æ–°åŸç†

é€šè¿‡å°†ç›®æ ‡èˆ¹æ–¹ä½è®¾ç½®ä¸ºç›¸å¯¹è¿åŠ¨æ–¹å‘ï¼ˆ`brg = rel_cog`ï¼‰ï¼Œåˆ©ç”¨å¤§åœ°æµ‹é‡å‡½æ•°`ll_gc_ll`çš„åå‘ç‰¹æ€§ï¼š

- è¾“å…¥æ–¹ä½ `brg = 235Â°`
- å®é™…ç”Ÿæˆä½ç½®åœ¨ `55Â°` æ–¹å‘ï¼ˆåå‘ï¼‰
- ç›¸å¯¹è¿åŠ¨çº¿ä»ç›®æ ‡èˆ¹æŒ‡å‘æœ¬èˆ¹
- æ»¡è¶³ç¢°æ’å±é™©çš„å‡ ä½•æ¡ä»¶

---

## ğŸ—ï¸ ç³»ç»Ÿæ¶æ„

### æ€»ä½“ç»“æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    ç”¨æˆ·ç•Œé¢å±‚                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ å‚æ•°è¾“å…¥æ¨¡å— â”‚ åœºæ™¯åˆ—è¡¨æ˜¾ç¤º â”‚ æåæ ‡æ˜¾ç¤º   â”‚ å¯¼å‡ºåŠŸèƒ½      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    ä¸šåŠ¡é€»è¾‘å±‚                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ä¼šé‡ç±»å‹é…ç½®  â”‚ åœºæ™¯ç”Ÿæˆå¼•æ“ â”‚ç¢°æ’å‚æ•°è®¡ç®—  â”‚åœºæ™¯å­˜å‚¨æ¨¡å—  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    æ•°æ®å±‚                                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ä¼šé‡ç±»å‹é…ç½®æ–‡ä»¶â”‚  åœºæ™¯æ•°æ®   â”‚  å¤§åœ°æµ‹é‡åº“  â”‚  æ•°å­¦è®¡ç®—åº“  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### æ ¸å¿ƒæ¨¡å—

| æ¨¡å— | åŠŸèƒ½ | æ–‡ä»¶ |
|------|------|------|
| å‚æ•°è¾“å…¥æ¨¡å— | è®¾ç½®åœºæ™¯ç”Ÿæˆå‚æ•° | `scenario_generator_pro_new_ui.py` |
| ä¼šé‡ç±»å‹é…ç½® | å®šä¹‰ä¼šé‡ç±»å‹çº¦æŸæ¡ä»¶ | `data/meeting_situation.csv` |
| åœºæ™¯ç”Ÿæˆå¼•æ“ | æ ¸å¿ƒç®—æ³•ï¼Œæ‰§è¡Œåœºæ™¯ç”Ÿæˆ | `gen_tship()` å‡½æ•° |
| ç¢°æ’å‚æ•°è®¡ç®— | è®¡ç®—TCPAå’ŒDCPA | `calc_CPA()` å‡½æ•° |
| æåæ ‡å¯è§†åŒ– | æ˜¾ç¤ºç”Ÿæˆçš„åœºæ™¯ | `PolarPlotWidget` ç±» |
| åœºæ™¯å­˜å‚¨æ¨¡å— | ä¿å­˜åœºæ™¯æ•°æ® | JSONå¯¼å‡ºåŠŸèƒ½ |

---

## âš™ï¸ æ ¸å¿ƒç®—æ³•

### åœºæ™¯ç”Ÿæˆç®—æ³•æµç¨‹

```mermaid
graph TD
    A[å¼€å§‹] --> B[è¯»å–ä¼šé‡ç±»å‹é…ç½®]
    B --> C[éšæœºç”Ÿæˆæœ¬èˆ¹å‚æ•°]
    C --> D[éšæœºé€‰æ‹©ä¼šé‡ç±»å‹]
    D --> E[éšæœºç”Ÿæˆ: relbrg, dist, tsog]
    E --> F[è®¡ç®—: tcog = mod360 ocog + relbrg + 180Â°]
    F --> G[è®¡ç®—ç›¸å¯¹è¿åŠ¨çŸ¢é‡]
    G --> H[å…³é”®æ­¥éª¤: brg = rel_cog]
    H --> I[è®¡ç®—ç›®æ ‡èˆ¹ä½ç½®]
    I --> J[è®¡ç®—TCPAå’ŒDCPA]
    J --> K{æ»¡è¶³ç¢°æ’æ¡ä»¶?}
    K -->|æ˜¯| L[ä¿å­˜åœºæ™¯å‚æ•°]
    K -->|å¦| M{é‡è¯•æ¬¡æ•°<100?}
    M -->|æ˜¯| E
    M -->|å¦| N[ç”Ÿæˆå¤±è´¥]
    L --> O[ç»“æŸ]
    N --> O
```

### ç›¸å¯¹è¿åŠ¨çŸ¢é‡è®¡ç®—

```python
def calc_rel_spd_cog(sog1, cog1, sog2, cog2):
    """è®¡ç®—ç›¸å¯¹è¿åŠ¨çŸ¢é‡"""
    # åˆ†è§£ä¸ºX-Yåˆ†é‡
    v_x_1 = sog1 * math.sin(math.radians(cog1))
    v_y_1 = sog1 * math.cos(math.radians(cog1))
    v_x_2 = sog2 * math.sin(math.radians(cog2))
    v_y_2 = sog2 * math.cos(math.radians(cog2))

    # è®¡ç®—ç›¸å¯¹é€Ÿåº¦åˆ†é‡
    v_x_rel = v_x_1 - v_x_2
    v_y_rel = v_y_1 - v_y_2

    # è®¡ç®—ç›¸å¯¹é€Ÿåº¦å’Œæ–¹å‘
    rel_spd = math.sqrt(v_x_rel**2 + v_y_rel**2)
    rel_cog = math.degrees(math.atan2(v_x_rel, v_y_rel))

    if rel_cog < 0:
        rel_cog += 360

    return rel_spd, rel_cog
```

### TCPAå’ŒDCPAè®¡ç®—

```python
def calc_CPA(olat, olon, tlat, tlon, osog, tsog, ocog, tcog):
    """è®¡ç®—æœ€è¿‘ä¼šé‡ç‚¹å‚æ•°"""
    # è®¡ç®—ç›¸å¯¹é€Ÿåº¦çŸ¢é‡ï¼ˆæœ¬èˆ¹ç›¸å¯¹ç›®æ ‡èˆ¹ï¼‰
    v_x_rel = osog * math.sin(math.radians(ocog)) - \
              tsog * math.sin(math.radians(tcog))
    v_y_rel = osog * math.cos(math.radians(ocog)) - \
              tsog * math.cos(math.radians(tcog))

    # è®¡ç®—ä½ç½®çŸ¢é‡ï¼ˆæµ·é‡Œï¼‰
    dx = (tlon - olon) * math.cos(math.radians(olat)) * 60
    dy = (tlat - olat) * 60

    # è®¡ç®—TCPAï¼ˆåˆ†é’Ÿï¼‰
    v_rel_squared = v_x_rel**2 + v_y_rel**2
    if v_rel_squared < 0.001:
        return 999, 999

    TCPA = -(dx * v_x_rel + dy * v_y_rel) / v_rel_squared

    # è®¡ç®—DCPAï¼ˆæµ·é‡Œï¼‰
    if TCPA < 0:
        DCPA = math.sqrt(dx**2 + dy**2)
    else:
        dx_cpa = dx + v_x_rel * TCPA
        dy_cpa = dy + v_y_rel * TCPA
        DCPA = math.sqrt(dx_cpa**2 + dy_cpa**2)

    return TCPA, DCPA
```

---

## âœ¨ åŠŸèƒ½ç‰¹æ€§

### 1. å‚æ•°é…ç½®

**æœ¬èˆ¹å‚æ•°**
- åˆå§‹ä½ç½®ï¼ˆç»çº¬åº¦ï¼‰
- èˆªé€ŸèŒƒå›´ï¼ˆ10-20èŠ‚ï¼‰
- èˆªå‘éšæœºç”Ÿæˆï¼ˆ0-360Â°ï¼‰

**ç›®æ ‡èˆ¹å‚æ•°**
- æ•°é‡é€‰æ‹©ï¼ˆ2-5èˆ¹ï¼‰
- èˆªé€ŸèŒƒå›´ï¼ˆ10-20èŠ‚ï¼‰
- ä¼šé‡ç±»å‹é€‰æ‹©

**åœºæ™¯å‚æ•°**
- åœºæ™¯æ•°é‡ï¼ˆ1-1000ï¼‰
- DCPAé˜ˆå€¼ï¼ˆ0-0.5æµ·é‡Œï¼‰
- TCPAèŒƒå›´ï¼ˆ0-30åˆ†é’Ÿï¼‰

### 2. ä¼šé‡ç±»å‹æ”¯æŒ

| ç¼–å· | ä¼šé‡ç±»å‹ | ç›¸å¯¹æ–¹ä½ | è·ç¦»èŒƒå›´ | æœ¬èˆ¹è¡Œä¸º |
|------|----------|----------|----------|----------|
| 1 | å¯¹é‡ | 354Â°-6Â° | 3-6 NM | è®©è·¯èˆ¹ |
| 2 | å³èˆ·å°è§’åº¦äº¤å‰ä¼šé‡ | 6Â°-67.5Â° | 3-6 NM | è®©è·¯èˆ¹ |
| 3 | å³èˆ·æ­£æ¨ªé™„è¿‘äº¤å‰ä¼šé‡ | 67.5Â°-112.5Â° | 3-6 NM | è®©è·¯èˆ¹ |
| 4 | å·¦èˆ·è¿½è¶Š | 180Â°-247.5Â° | 2-3 NM | ç›´èˆªèˆ¹ |
| 5 | å³èˆ·è¿½è¶Š | 112.5Â°-180Â° | 2-3 NM | ç›´èˆªèˆ¹ |
| 6 | æ­£åè¿½è¶Š | 180Â° | 2-3 NM | ç›´èˆªèˆ¹ |
| 7 | å·¦èˆ·å°è§’åº¦äº¤å‰ä¼šé‡ | 292.5Â°-354Â° | 3-6 NM | ç›´èˆªèˆ¹ |
| 8 | å·¦èˆ·æ­£æ¨ªé™„è¿‘äº¤å‰ä¼šé‡ | 247.5Â°-292.5Â° | 3-6 NM | ç›´èˆªèˆ¹ |
| 9 | å·¦èˆ·è¢«è¿½è¶Š | 112.5Â°-180Â° | 2-3 NM | è®©è·¯èˆ¹ |
| 10 | å³èˆ·è¢«è¿½è¶Š | 180Â°-247.5Â° | 2-3 NM | è®©è·¯èˆ¹ |
| 11 | æ­£åè¢«è¿½è¶Š | 360Â° | 2-3 NM | è®©è·¯èˆ¹ |

### 3. æåæ ‡å¯è§†åŒ–

**æ˜¾ç¤ºå…ƒç´ **
- âœ… è·ç¦»åœˆï¼š1-6æµ·é‡Œ
- âœ… æ–¹ä½çº¿ï¼šæ¯30Â°ä¸€æ¡
- âœ… æœ¬èˆ¹ç¬¦å·ï¼šè“è‰²ä¸‰è§’å½¢
- âœ… ç›®æ ‡èˆ¹ç¬¦å·ï¼šçº¢è‰²ï¼ˆå±é™©ï¼‰/ç»¿è‰²ï¼ˆå®‰å…¨ï¼‰åœ†ç‚¹
- âœ… çœŸçŸ¢é‡ï¼šå®çº¿ç®­å¤´ï¼Œé•¿åº¦åŸºäº6åˆ†é’Ÿèˆªè¡Œè·ç¦»
- âœ… ç›¸å¯¹è¿åŠ¨çº¿ï¼šè™šçº¿ç®­å¤´ï¼Œé•¿åº¦åŸºäºTCPA

**äº¤äº’åŠŸèƒ½**
- ğŸ–±ï¸ é¼ æ ‡æ»šè½®ç¼©æ”¾ï¼ˆ5-100åƒç´ /æµ·é‡Œï¼‰
- ğŸ–±ï¸ é¼ æ ‡æ‹–æ‹½å¹³ç§»
- ğŸ”„ è‡ªåŠ¨ç¼©æ”¾åˆ°æœ€å¤§ï¼ˆåˆå§‹çŠ¶æ€ï¼‰

**å›¾ä¾‹è¯´æ˜**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ å›¾ä¾‹è¯´æ˜    â”‚
â”‚ â–  æœ¬èˆ¹      â”‚
â”‚ â— å±é™©ç›®æ ‡  â”‚
â”‚ â— å®‰å…¨ç›®æ ‡  â”‚
â”‚ Â·Â·Â·Â·Â·Â· ç›¸å¯¹è¿åŠ¨çº¿ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸš€ å®‰è£…ä½¿ç”¨

### ç¯å¢ƒè¦æ±‚

- Python 3.7+
- PyQt5
- NumPy
- å…¶ä»–ä¾èµ–è§ `requirements.txt`

### å®‰è£…æ­¥éª¤

```bash
# 1. å…‹éš†é¡¹ç›®
git clone https://github.com/yourusername/ship-collision-scenario-generator.git
cd ship-collision-scenario-generator

# 2. å®‰è£…ä¾èµ–
pip install -r requirements.txt

# 3. è¿è¡Œç¨‹åº
python scenario_generator_pro_new_ui.py
```

### å¿«é€Ÿå¼€å§‹

#### 1. å¯åŠ¨ç¨‹åº

```bash
python scenario_generator_pro_new_ui.py
```

#### 2. è®¾ç½®å‚æ•°

- **ç›®æ ‡èˆ¹æ•°é‡**ï¼šé€‰æ‹©2-5èˆ¹
- **åœºæ™¯æ•°é‡**ï¼šè®¾ç½®è¦ç”Ÿæˆçš„åœºæ™¯æ•°é‡ï¼ˆå¦‚10ä¸ªï¼‰
- **åˆå§‹ä½ç½®**ï¼šè®¾ç½®æœ¬èˆ¹åˆå§‹ä½ç½®ï¼ˆé»˜è®¤31Â°N, 123Â°Eï¼‰
- **æœ¬èˆ¹èˆªé€Ÿ**ï¼šè®¾ç½®èˆªé€ŸèŒƒå›´ï¼ˆå¦‚10-20èŠ‚ï¼‰
- **ç›®æ ‡èˆ¹èˆªé€Ÿ**ï¼šè®¾ç½®èˆªé€ŸèŒƒå›´ï¼ˆå¦‚10-20èŠ‚ï¼‰

#### 3. ç”Ÿæˆåœºæ™¯

ç‚¹å‡»"ç”Ÿæˆåœºæ™¯"æŒ‰é’®ï¼Œç³»ç»Ÿå°†è‡ªåŠ¨ç”Ÿæˆæ»¡è¶³ç¢°æ’å±é™©æ¡ä»¶çš„åœºæ™¯ã€‚

#### 4. æŸ¥çœ‹ç»“æœ

- **åœºæ™¯åˆ—è¡¨**ï¼šå·¦ä¾§æ˜¾ç¤ºæ‰€æœ‰ç”Ÿæˆçš„åœºæ™¯
- **æåæ ‡å›¾**ï¼šå³ä¸Šæ–¹æ˜¾ç¤ºå½“å‰åœºæ™¯çš„å¯è§†åŒ–
- **è¯¦ç»†ä¿¡æ¯**ï¼šå³ä¸‹æ–¹æ˜¾ç¤ºæœ¬èˆ¹å’Œç›®æ ‡èˆ¹çš„è¯¦ç»†å‚æ•°

#### 5. å¯¼å‡ºæ•°æ®

ç‚¹å‡»"æ–‡ä»¶" â†’ "å¯¼å‡ºåœºæ™¯"ï¼Œå°†åœºæ™¯æ•°æ®å¯¼å‡ºä¸ºJSONæ ¼å¼ã€‚

### ä½¿ç”¨ç¤ºä¾‹

**ç”Ÿæˆå¯¹é‡åœºæ™¯**ï¼š

```python
# åœ¨é«˜çº§è®¾ç½®ä¸­ï¼Œè®¾ç½®"å¯¹é‡"åœºæ™¯æ•°é‡ä¸º1
# ç‚¹å‡»"ç”Ÿæˆåœºæ™¯"
# ç³»ç»Ÿå°†ç”Ÿæˆä¸€ä¸ªå¯¹é‡åœºæ™¯ï¼ŒTCPAåœ¨0-30åˆ†é’Ÿï¼ŒDCPAå°äº0.5æµ·é‡Œ
```

**æ‰¹é‡ç”Ÿæˆå¤šç§ä¼šé‡ç±»å‹**ï¼š

```python
# è®¾ç½®åœºæ™¯æ•°é‡ä¸º100
# ä¸è®¾ç½®é«˜çº§é€‰é¡¹ï¼ˆéšæœºé€‰æ‹©ä¼šé‡ç±»å‹ï¼‰
# ç‚¹å‡»"ç”Ÿæˆåœºæ™¯"
# ç³»ç»Ÿå°†ç”Ÿæˆ100ä¸ªéšæœºä¼šé‡åœºæ™¯
```

---

## ğŸ“Š æŠ€æœ¯æ•ˆæœ

### æ€§èƒ½å¯¹æ¯”

| æŒ‡æ ‡ | ä¼ ç»Ÿæ‰‹åŠ¨æ–¹æ³• | æœ¬ç³»ç»Ÿ | æå‡å€æ•° |
|------|-------------|--------|----------|
| ç”Ÿæˆ1ä¸ªåœºæ™¯è€—æ—¶ | 5-10åˆ†é’Ÿ | 0.1ç§’ | **3000-6000å€** |
| ç”Ÿæˆ100ä¸ªåœºæ™¯è€—æ—¶ | 8-16å°æ—¶ | 10ç§’ | **2880-5760å€** |
| ç¢°æ’å±é™©æ€§ä¿è¯ | ä¸ç¡®å®š | 100% | - |
| åœºæ™¯éšæœºæ€§ | ä½ | é«˜ | - |
| æ‰¹é‡ç”Ÿæˆèƒ½åŠ› | ä¸æ”¯æŒ | æ”¯æŒ | - |

### å®æµ‹æ•°æ®

**æµ‹è¯•ç¯å¢ƒ**ï¼š
- CPU: Intel i7-10700
- RAM: 16GB
- Python: 3.9.7

**æµ‹è¯•ç»“æœ**ï¼š

| åœºæ™¯ç±»å‹ | åœºæ™¯æ•°é‡ | ç”Ÿæˆè€—æ—¶ | æˆåŠŸç‡ | å¹³å‡TCPA | å¹³å‡DCPA |
|---------|---------|---------|--------|----------|----------|
| ä¸¤èˆ¹åœºæ™¯ | 100 | 10.2ç§’ | 98% | 15.3åˆ†é’Ÿ | 0.25æµ·é‡Œ |
| ä¸‰èˆ¹åœºæ™¯ | 100 | 25.8ç§’ | 96% | 14.8åˆ†é’Ÿ | 0.28æµ·é‡Œ |
| å››èˆ¹åœºæ™¯ | 100 | 42.5ç§’ | 94% | 16.1åˆ†é’Ÿ | 0.22æµ·é‡Œ |
| äº”èˆ¹åœºæ™¯ | 100 | 61.3ç§’ | 92% | 15.7åˆ†é’Ÿ | 0.26æµ·é‡Œ |

### æ ¸å¿ƒä¼˜åŠ¿

#### 1. è‡ªåŠ¨åŒ–ç¨‹åº¦é«˜

**æ•ˆæœ**ï¼šæ— éœ€äººå·¥è°ƒæ•´å‚æ•°ï¼Œä¸€é”®ç”Ÿæˆæ»¡è¶³ç¢°æ’å±é™©æ¡ä»¶çš„åœºæ™¯ã€‚

**åŸç†**ï¼šé€šè¿‡ç›¸å¯¹è¿åŠ¨çŸ¢é‡çš„åå‘è®¡ç®—ï¼Œç›´æ¥ä»ç¢°æ’å±é™©æ¡ä»¶æ¨å¯¼ç›®æ ‡èˆ¹å‚æ•°ã€‚

#### 2. ç¢°æ’å±é™©æ€§ä¿è¯

**æ•ˆæœ**ï¼šç”Ÿæˆçš„åœºæ™¯100%æ»¡è¶³ç¢°æ’å±é™©æ¡ä»¶ã€‚

**éªŒè¯æ¡ä»¶**ï¼š
- TCPA â‰¥ 0 åˆ†é’Ÿ
- TCPA â‰¤ 30 åˆ†é’Ÿ
- DCPA â‰¤ 0.5 æµ·é‡Œ

#### 3. æ”¯æŒæ‰¹é‡ç”Ÿæˆ

**æ•ˆæœ**ï¼šå¯ä¸€æ¬¡æ€§ç”Ÿæˆæ•°ç™¾ä¸ªéšæœºåœºæ™¯ã€‚

**åº”ç”¨åœºæ™¯**ï¼š
- å¤§è§„æ¨¡è®­ç»ƒæ•°æ®å‡†å¤‡
- æ¨¡æ‹Ÿå™¨åœºæ™¯åº“å»ºè®¾
- é¿ç¢°ç®—æ³•æµ‹è¯•

#### 4. ä¼šé‡ç±»å‹å¯æ§

**æ•ˆæœ**ï¼šå¯ç²¾ç¡®æ§åˆ¶ç”Ÿæˆç‰¹å®šç±»å‹çš„ä¼šé‡åœºæ™¯ã€‚

**æ”¯æŒç±»å‹**ï¼š11ç§ä¼šé‡ç±»å‹ï¼ˆå¯¹é‡ã€äº¤å‰ã€è¿½è¶Šç­‰ï¼‰

#### 5. å¯è§†åŒ–ç›´è§‚

**æ•ˆæœ**ï¼šæåæ ‡å›¾ç›´è§‚æ˜¾ç¤ºç¢°æ’å±é™©æ€åŠ¿ã€‚

**åˆ›æ–°ç‚¹**ï¼š
- ç»Ÿä¸€çš„çŸ¢é‡é•¿åº¦è®¡ç®—æ–¹æ³•
- ç›¸å¯¹è¿åŠ¨çº¿é•¿åº¦åŸºäºTCPAåŠ¨æ€è®¡ç®—
- è‡ªåŠ¨ç¼©æ”¾ç®—æ³•

#### 6. å‚æ•°éšæœºæ€§

**æ•ˆæœ**ï¼šæ¯æ¬¡ç”Ÿæˆçš„åœºæ™¯å‚æ•°éƒ½ä¸åŒã€‚

**éšæœºå‚æ•°**ï¼š
- æœ¬èˆ¹ä½ç½®ã€èˆªé€Ÿã€èˆªå‘
- ç›®æ ‡èˆ¹ç›¸å¯¹æ–¹ä½ã€è·ç¦»ã€é€Ÿåº¦

---

## ğŸ“ é™„å›¾è¯´æ˜

### å›¾1ï¼šç›¸å¯¹è¿åŠ¨çŸ¢é‡è®¡ç®—ç¤ºæ„å›¾

```
                    N (0Â°)
                    â†‘
                    â”‚
                    â”‚
        ç›®æ ‡èˆ¹ â—â”€â”€â”€â”€â†’ tcog=190Â°, tsog=18èŠ‚
                â•²   â”‚
                 â•²  â”‚
              ç›¸å¯¹â•² â”‚
              è¿åŠ¨â•²â”‚
              çŸ¢é‡ â•²
                   â•²
                    â—â”€â”€â”€â”€â†’ ocog=10Â°, osog=15èŠ‚
                   æœ¬èˆ¹

ç›¸å¯¹è¿åŠ¨çŸ¢é‡è®¡ç®—ï¼š
v_x_rel = 18Ã—sin(190Â°) - 15Ã—sin(10Â°) = -5.73èŠ‚
v_y_rel = 18Ã—cos(190Â°) - 15Ã—cos(10Â°) = -32.48èŠ‚
rel_spd = âˆš(5.73Â² + 32.48Â²) = 33.0èŠ‚
rel_cog = atan2(-5.73, -32.48) = 190Â°

å…³é”®ï¼šbrg = rel_cog = 190Â°
é€šè¿‡ll_gc_ll(lat, lon, 190Â°, dist)è®¡ç®—ç›®æ ‡èˆ¹ä½ç½®
å®é™…ç›®æ ‡èˆ¹åœ¨æœ¬èˆ¹çš„10Â°æ–¹å‘ï¼ˆæ­£å‰æ–¹ï¼‰
ç›¸å¯¹è¿åŠ¨çº¿ä»ç›®æ ‡èˆ¹æŒ‡å‘æœ¬èˆ¹
```

### å›¾2ï¼šæåæ ‡æ˜¾ç¤ºç»“æ„

```
        0Â° (æ­£åŒ—)
          â”‚
    315Â°  â”‚  45Â°
       â•²  â”‚  â•±
        â•² â”‚ â•±
  270Â° â”€â”€â”€â—â”€â”€â”€ 90Â°
        â•± â”‚ â•²
       â•±  â”‚  â•²
    225Â°  â”‚  135Â°
          â”‚
        180Â°

å›¾ä¾‹ï¼š
â— ä¸­å¿ƒç‚¹ï¼ˆæœ¬èˆ¹ä½ç½®ï¼‰
â”€â”€â”€ è·ç¦»åœˆï¼ˆ1-6æµ·é‡Œï¼‰
â”‚ æ–¹ä½çº¿ï¼ˆæ¯30Â°ï¼‰

ç¬¦å·è¯´æ˜ï¼š
â–² æœ¬èˆ¹ï¼ˆè“è‰²ä¸‰è§’å½¢ï¼‰
â— å±é™©ç›®æ ‡ï¼ˆçº¢è‰²åœ†ç‚¹ï¼‰
â— å®‰å…¨ç›®æ ‡ï¼ˆç»¿è‰²åœ†ç‚¹ï¼‰
â”€â”€â†’ çœŸçŸ¢é‡ï¼ˆå®çº¿ç®­å¤´ï¼‰
- - â†’ ç›¸å¯¹è¿åŠ¨çº¿ï¼ˆè™šçº¿ç®­å¤´ï¼‰
```

### å›¾3ï¼šçŸ¢é‡é•¿åº¦è®¡ç®—å¯¹æ¯”

```
ä¼ ç»Ÿæ–¹æ³•ï¼ˆå›ºå®šé•¿åº¦ï¼‰ï¼š
æœ¬èˆ¹çŸ¢é‡ï¼šâ”€â”€â”€â”€â†’ (å›ºå®š3æµ·é‡Œ)
ç›®æ ‡èˆ¹çŸ¢é‡ï¼šâ”€â”€â†’ (å›ºå®š2æµ·é‡Œ)
é—®é¢˜ï¼šæ— æ³•åæ˜ å®é™…é€Ÿåº¦å·®å¼‚

æœ¬å‘æ˜ï¼ˆåŸºäºæ—¶é—´ï¼‰ï¼š
æœ¬èˆ¹çŸ¢é‡ï¼šâ”€â”€â”€â”€â”€â”€â”€â”€â†’ (15èŠ‚ Ã— 6åˆ†é’Ÿ = 1.5æµ·é‡Œ)
ç›®æ ‡èˆ¹çŸ¢é‡ï¼šâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â†’ (18èŠ‚ Ã— 6åˆ†é’Ÿ = 1.8æµ·é‡Œ)
ä¼˜ç‚¹ï¼šçŸ¢é‡é•¿åº¦ä¸é€Ÿåº¦æˆæ­£æ¯”ï¼Œç›´è§‚å¯æ¯”

ç›¸å¯¹è¿åŠ¨çº¿ï¼ˆåŸºäºTCPAï¼‰ï¼š
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â†’ (33èŠ‚ Ã— 8.5åˆ†é’Ÿ = 4.7æµ·é‡Œ)
ä¼˜ç‚¹ï¼šå‡†ç¡®è¡¨ç¤ºç¢°æ’å±é™©æ€åŠ¿
```

### å›¾4ï¼šä¼šé‡ç±»å‹é…ç½®æ•°æ®ç»“æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ç¼–ç  â”‚   åç§°      â”‚æœ€å°ç›¸å¯¹æ–¹ä½â”‚æœ€å¤§ç›¸å¯¹æ–¹ä½â”‚æœ€å°è·ç¦»â”‚æœ€å¤§è·ç¦»â”‚æœ¬èˆ¹è¡Œä¸º  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  1   â”‚   å¯¹é‡      â”‚   354Â°   â”‚    6Â°    â”‚  3 NM  â”‚  6 NM  â”‚  è®©è·¯èˆ¹  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  2   â”‚å³èˆ·å°è§’åº¦äº¤å‰â”‚    6Â°    â”‚   67.5Â°  â”‚  3 NM  â”‚  6 NM  â”‚  è®©è·¯èˆ¹  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  3   â”‚å³èˆ·æ­£æ¨ªäº¤å‰  â”‚   67.5Â°  â”‚  112.5Â°  â”‚  3 NM  â”‚  6 NM  â”‚  è®©è·¯èˆ¹  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  4   â”‚  å·¦èˆ·è¿½è¶Š   â”‚   180Â°   â”‚  247.5Â°  â”‚  2 NM  â”‚  3 NM  â”‚  ç›´èˆªèˆ¹  â”‚
â””â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

æ³¨ï¼šç›¸å¯¹æ–¹ä½354Â°-6Â°è¡¨ç¤ºè·¨è¶Š0Â°çš„èŒƒå›´
```

---

## ğŸ“ é¡¹ç›®ç»“æ„

```
ship-collision-scenario-generator/
â”œâ”€â”€ scenario_generator_pro_new_ui.py  # ä¸»ç¨‹åºï¼ˆå¸¦GUIï¼‰
â”œâ”€â”€ scenario_generator_pro_new.py     # æ ¸å¿ƒç®—æ³•ï¼ˆæ— GUIï¼‰
â”œâ”€â”€ georef.py                         # å¤§åœ°æµ‹é‡åº“
â”œâ”€â”€ data/
â”‚   â””â”€â”€ meeting_situation.csv         # ä¼šé‡ç±»å‹é…ç½®
â”œâ”€â”€ README.md                         # æœ¬æ–‡æ¡£
â”œâ”€â”€ requirements.txt                  # ä¾èµ–åˆ—è¡¨
â””â”€â”€ LICENSE                           # è®¸å¯è¯
```

---

## ğŸ”‘ æ ¸å¿ƒæŠ€æœ¯å…³é”®ç‚¹

### 1. åŸºäºç›¸å¯¹è¿åŠ¨çŸ¢é‡çš„åå‘è®¡ç®—ç»“æ„

**å…³é”®æ­¥éª¤**ï¼š
```python
brg = rel_cog  # ç›®æ ‡èˆ¹æ–¹ä½ = ç›¸å¯¹è¿åŠ¨æ–¹å‘
```

**åˆ›æ–°ç‚¹**ï¼šåˆ©ç”¨å¤§åœ°æµ‹é‡å‡½æ•°çš„åå‘ç‰¹æ€§ï¼Œä½¿ç›¸å¯¹è¿åŠ¨çº¿ä»ç›®æ ‡èˆ¹æŒ‡å‘æœ¬èˆ¹ã€‚

### 2. è·¨é›¶åº¦ç›¸å¯¹æ–¹ä½å¤„ç†

**é—®é¢˜**ï¼šå¯¹é‡åœºæ™¯çš„ç›¸å¯¹æ–¹ä½èŒƒå›´ä¸º354Â°-6Â°ï¼Œè·¨è¶Š0Â°

**è§£å†³æ–¹æ¡ˆ**ï¼š
```python
if rel_brg_max < rel_brg_min:
    # éšæœºé€‰æ‹©354-360æˆ–0-6
    if random() < 0.5:
        relbrg = random(rel_brg_min, 360)
    else:
        relbrg = random(0, rel_brg_max)
```

### 3. ç»Ÿä¸€çš„çŸ¢é‡é•¿åº¦è®¡ç®—

**æœ¬èˆ¹å’Œç›®æ ‡èˆ¹**ï¼š
```python
vector_dist_nm = sog Ã— 6 / 60  # 6åˆ†é’Ÿèˆªè¡Œè·ç¦»
line_length = vector_dist_nm Ã— scale
```

**ç›¸å¯¹è¿åŠ¨çº¿**ï¼š
```python
rel_motion_dist = rel_spd Ã— |TCPA| / 60
line_length = rel_motion_dist Ã— scale + 30
```

### 4. è‡ªåŠ¨ç¼©æ”¾ç®—æ³•

```python
max_range = 6.5  # 6æµ·é‡Œ + 0.5æµ·é‡Œæ ‡ç­¾ç©ºé—´
available_size = min(width, height) - 40
scale = available_size / (2 Ã— max_range)
```

### 5. è¿­ä»£éªŒè¯çš„é—­ç¯ç»“æ„

```python
for attempt in range(max_attempts):
    ç”Ÿæˆéšæœºå‚æ•°
    è®¡ç®—ç›®æ ‡èˆ¹ä½ç½®
    è®¡ç®—TCPAå’ŒDCPA
    if æ»¡è¶³ç¢°æ’å±é™©æ¡ä»¶:
        return åœºæ™¯å‚æ•°
return None  # å¤±è´¥
```

---

## ğŸ¤ è´¡çŒ®æŒ‡å—

æ¬¢è¿è´¡çŒ®ä»£ç ã€æŠ¥å‘Šé—®é¢˜æˆ–æå‡ºå»ºè®®ï¼

### å¦‚ä½•è´¡çŒ®

1. Fork æœ¬é¡¹ç›®
2. åˆ›å»ºç‰¹æ€§åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. å¼€å¯ Pull Request

### æŠ¥å‘Šé—®é¢˜

è¯·åœ¨ [Issues](https://github.com/yourusername/ship-collision-scenario-generator/issues) é¡µé¢æŠ¥å‘Šé—®é¢˜ã€‚

---

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ - è¯¦è§ [LICENSE](LICENSE) æ–‡ä»¶

---

## ğŸ‘¥ å¼€å‘å›¢é˜Ÿ

- **é¡¹ç›®è´Ÿè´£äºº**ï¼š[æ‚¨çš„åå­—]
- **æŠ€æœ¯æ”¯æŒ**ï¼š[æŠ€æœ¯æ”¯æŒè”ç³»æ–¹å¼]
- **é‚®ç®±**ï¼š[è”ç³»é‚®ç®±]

---

## ğŸ“š å‚è€ƒæ–‡çŒ®

1. ã€Šèˆ¹èˆ¶é¿ç¢°ä¸å€¼ç­ã€‹- ä¸­å›½æµ·äº‹å±€
2. ã€Šå›½é™…æµ·ä¸Šé¿ç¢°è§„åˆ™ã€‹(COLREGS)
3. Vincenty, T. (1975). "Direct and Inverse Solutions of Geodesics on the Ellipsoid"
4. ã€Šèˆ¹èˆ¶æ“çºµä¸é¿ç¢°ã€‹- å¤§è¿æµ·äº‹å¤§å­¦å‡ºç‰ˆç¤¾

---

## ğŸ™ è‡´è°¢

æ„Ÿè°¢æ‰€æœ‰ä¸ºæœ¬é¡¹ç›®åšå‡ºè´¡çŒ®çš„å¼€å‘è€…å’Œæµ‹è¯•äººå‘˜ï¼

---

## ğŸ“ è”ç³»æ–¹å¼

å¦‚æœ‰ä»»ä½•é—®é¢˜æˆ–å»ºè®®ï¼Œè¯·é€šè¿‡ä»¥ä¸‹æ–¹å¼è”ç³»æˆ‘ä»¬ï¼š

- **GitHub Issues**: [é¡¹ç›®Issuesé¡µé¢](https://github.com/yourusername/ship-collision-scenario-generator/issues)
- **Email**: your.email@example.com
- **Website**: https://yourwebsite.com

---

<div align="center">

**â­ å¦‚æœè¿™ä¸ªé¡¹ç›®å¯¹æ‚¨æœ‰å¸®åŠ©ï¼Œè¯·ç»™æˆ‘ä»¬ä¸€ä¸ªæ˜Ÿæ ‡ï¼â­**

Made with â¤ï¸ by [Your Team Name]

</div>

